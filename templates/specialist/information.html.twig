{% block doctor_profile %}
    <div class="container-fluid bc-patient-container">
        {% if specialist.getUserInfo() is not defined or specialist.getUserInfo() is  null %}
            <h1>Nepavyko rasti specialisto</h1>
        {% else %}
            {% for flashMessage in app.session.flashbag.get('success') %}
                <div class="alert alert-success">{{ flashMessage }}</div>
            {% endfor %}
            <div class="row">
                <div class="col-sm-4">
                    <div class="panel text-center">
                        <div class="user-heading">
                            <a href="#"><img src="/build/profile-avatar.png" alt="" title=""></a>
                            {% if app.user and app.user.getRole() == 3 %}
                                <button onclick="location.href='/clinicspecialist/{{ specialist.getId() }}/add'">Prideti specialista i istaiga</button>
                            {% endif %}
                            <h2>{{ specialist.getUserInfo().first().getName() }} {{ specialist.getUserInfo().first().getSurname() }}</h2>
                            {% for specialty in specialist.getUserSpecialties() %}
                                <li>{{ specialty.getSpecialtyId().getName() }}</li>
                            {% endfor %}
                            {% if specialist.getSpecialistClinics().first().getClinicId() is not defined or specialist.getSpecialistClinics().first().getClinicId() is null %}
                                Specialistas įstaigai nepriklauso
                            {% else %}
                                {% for clinic in specialist.getSpecialistClinics() %}
                                <a href="/clinic/show/{{ clinic.getClinicId().getId() }}">
                                    <p>{{ clinic.getClinicId().getClinicInfo().getName() }}</p>
                                </a>
                                {% endfor %}
                            {% endif %}
                            <p>{{ specialist.getUserInfo().first().getCity() }}</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-8 bc-patient-column-8">
                    <div class="card mt-3 tab-card">
                        <div class="card-header tab-card-header bc-patient-tab-header">
                            <ul class="nav nav-tabs card-header-tabs" id="myTab" role="tablist">
                                <li class="nav-item patient-tab">
                                    <a class="nav-link active" id="one-tab" data-toggle="tab" href="#one" role="tab"
                                       aria-controls="One" aria-selected="true" selected="true">Apie</a>
                                </li>
                                <li class="nav-item patient-tab">
                                    <a class="nav-link" id="two-tab" data-toggle="tab" href="#two" role="tab"
                                       aria-controls="Two" aria-selected="false">Kalendorius</a>
                                </li>
                            </ul>
                        </div>

                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active p-3" id="one" role="tabpanel"
                                 aria-labelledby="one-tab">
                                <p>Aprašymas</p>
                                <p>{{ specialist.getUserInfo().first().getDescription() }}</p>
                                <p>El. paštas</p>
                                <p>{{ specialist.getUserInfo().first().getPersonalEmail() }}</p>
                                <p>Tel. numeris</p>
                                <p>{{ specialist.getUserInfo().first().getPhoneNumber() }}</p>
                                {# Create button pop up form#}
                            </div>
                            <div class="tab-pane fade p-3" id="two" role="tabpanel" aria-labelledby="two-tab">
                                {# Change to calendar view for future appointments #}
                                <h5 class="card-title specialist-header">Pasirinkite vizito laiką:</h5>
                                {% if app.user and app.user.getRole() == 2 and app.user.getId() == specialist.getId() %}
                                    <span> <a href="{{ path('specialist_hours_edit') }}"> Redaguoti </a></span>
                                {% endif %}
                                <form action="{{ path('specialist_register_visit', {'specialistId':  specialist.getId()}) }}" method="POST">
                                    <div>
                                        <div class="row specialist-hours-row">
                                            {% for clinic in workHours %}
                                                <div class="col-xl-2 specialist-work-hours">
                                                    <div class="row">
                                                        {{ specialist_service.getDateFromDayNumber(clinic.0.day) }}
                                                    </div>
                                                    {% for key, hour in clinic.0.hours %}
                                                        <div class="row">
                                                            <input type="radio" name="reg_time"
                                                                value="{{ clinic.clinicId.getId }};{{ specialist_service.getDateFromDayNumber(clinic.0.day) }};{{ hour }}">
                                                            {{ hour }}
                                                        </div>
                                                    {% endfor %}
                                                </div>
                                            {% endfor %}
                                        </div>
                                    </div>
                                    <br><br>
                                    {% if app.user and app.user.getRole() == 1 %}
                                    <input type="submit" id="form_search" value="Pasirinkti">
                                    {% else %}
                                        <p>Norėdami registruotis vizitui, turite <a href="{{ path('app_login') }}">prisijungti</a> arba <a href="{{ path('app_register') }}">susikurti paskyrą</a></p>
                                    {% endif %}
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
{#    test#}
{% endblock %}